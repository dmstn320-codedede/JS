<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>랜덤 명언 제조기</h1>
    <button id="loadsay">명언 불러오기</button>
    <p id="quote" style="font-size:20px;"></p>  
    <script>
        document.getElementById("loadsay").addEventListener("click", () => {
            fetch("https://api.adviceslip.com/advice")
                .then(res => {
                    if (!res.ok) {
                    // HTTP 응답 코드가 200대가 아닌 경우 에러를 던진다
                        throw new Error("명언 불러오기 실패");
                        }
                            return res.json(); // JSON 형태로 변환한다
                            })
                                .then(data => {
                                // API가 반환한 이미지 URL을 이미지 태그에 넣는다
                                document.getElementById("quote").innerText = data.slip.advice;
                                })
                                .catch(err => {
                                console.error("에러:", err);
                                alert("명언을 가져오는데 실패했다");
                                });
                        });
    </script>
</body>
</html>